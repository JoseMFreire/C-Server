# C-Server

This was my first approach to web servers and socket programming.
The objective of the project was to develop a C web server from scratch, with some limitations, but fully functional.

Co-authored with Miguel Herrera.

**Pre-requisitions:**

confuse.h must be installed in order to read the config file of the server. It can be installed with the following command:

`$> sudo apt-get install -y libconfuse-dev`

Python and PHP are also needed to be able to run the scripts uploaded to the server.
Python does not accept special Spanish characters, as á, é, í, ó, ú, ü or ñ; unless Python3 is the default version (this means that the `python` command calls `python3`).

**Compilation:**

The program comes with a Makefiile that automaticly eliminates the executable, and the .o and .a files that are already generated and creates them again in their directories.
This is done with the next comand:

`$> make`

Two directories are created (`lib/` and `obj/`), which contain the following files generated by the makefile:
- `lib/`: Static libraries `socketlib.a` and `picolib.a`.
- `obj/`: The needed .o for compilation.

The server executable is also generated when run.

**Execution:**

Execution without valgrind:

`$> make run_s`

Execution with valgrind:

`$> make runv_s`

The `make` command already eliminates the files generated with the previous executions, but it is possible to do it manually with:

`$> make clean`

**How the program works:**

When the server is run, the log.txt file is created. This file contains a traceback of what happens during execution (errors, information...).

To connect to the server, the URL is <ip:port/index.html> where IP and port are configured in server.conf.

To create the server as a daemon process, the variable server_daemon must be changed in server.conf:
- 0: Will not create it as a daemon process.
- 1: Will create it as a daemon process.
By default it is set to 0, so that the server can be easily killed with Ctrl + C and so it accepts STDIN as input.
